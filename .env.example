# Database Configuration
# Supported DB_TYPE: mysql, postgresql, sqlserver
DB_TYPE=mysql
DB_HOST=your-database-host.com
DB_PORT=3306
DB_NAME=your_database_name
DB_USER=your_username
DB_PASSWORD=your_password

# Example configurations for different database types:
# Uncomment and modify the section that matches your database

# MySQL Example:
# DB_TYPE=mysql
# DB_HOST=mysql.example.com
# DB_PORT=3306
# DB_NAME=members_db
# DB_USER=mysql_user
# DB_PASSWORD=mysql_password

# PostgreSQL Example:
# DB_TYPE=postgresql
# DB_HOST=postgres.example.com
# DB_PORT=5432
# DB_NAME=members_db
# DB_USER=postgres_user
# DB_PASSWORD=postgres_password

# SQL Server Example:
# DB_TYPE=sqlserver
# DB_HOST=sqlserver.example.com
# DB_PORT=1433
# DB_NAME=members_db
# DB_USER=sqlserver_user
# DB_PASSWORD=sqlserver_password

# Local Development Example (Docker host.docker.internal):
# DB_TYPE=postgresql
# DB_HOST=host.docker.internal
# DB_PORT=5432
# DB_NAME=directus_local
# DB_USER=directus
# DB_PASSWORD=directus

# Email Configuration
# Set EMAIL_ENABLED to false to disable email sending (CSV files will still be saved)
EMAIL_ENABLED=true                       # Set to false to disable email sending

# Gmail SMTP Configuration (requires app-specific password):
# 1. Enable 2-factor authentication on Google Account
# 2. Go to https://myaccount.google.com/apppasswords
# 3. Generate app password for "Mail"
# 4. Use the generated 16-character password below
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password         # 16-character app password from Google
EMAIL_FROM=your-email@gmail.com
EMAIL_TO=recipient1@example.com,recipient2@example.com
EMAIL_CC=
EMAIL_BCC=

# Office365/Outlook SMTP Configuration (use regular password):
# SMTP_HOST=smtp.office365.com
# SMTP_PORT=587
# SMTP_USE_TLS=true
# SMTP_USERNAME=your-email@yourdomain.com
# SMTP_PASSWORD=your-regular-password    # Regular password, not app-specific
# EMAIL_FROM=your-email@yourdomain.com
# EMAIL_TO=recipient1@example.com,recipient2@example.com
# EMAIL_CC=
# EMAIL_BCC=

# Custom SMTP Server:
# SMTP_HOST=mail.yourdomain.com
# SMTP_PORT=587                          # or 465 for SSL
# SMTP_USE_TLS=true                      # true for TLS, false for SSL
# SMTP_USERNAME=your-username
# SMTP_PASSWORD=your-password

# Schedule Configuration
SCHEDULE_ENABLED=true

# Schedule Times - Use 24-hour format (HH:MM)
# Single time:        SCHEDULE_TIME=08:00
# Multiple times:     SCHEDULE_TIME=08:00,12:00,18:00
# End of day report:  SCHEDULE_TIME=23:55
SCHEDULE_TIME=08:00,12:00,18:00         # Multiple times supported (comma-separated)

# Timezone - Use IANA timezone names
# Examples: Asia/Bangkok, Asia/Shanghai, America/New_York, Europe/London
# Full list: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
SCHEDULE_TIMEZONE=Asia/Bangkok

# Days to Run - Any combination of: MON,TUE,WED,THU,FRI,SAT,SUN
# Weekdays only:  MON,TUE,WED,THU,FRI
# Every day:      MON,TUE,WED,THU,FRI,SAT,SUN
# Specific days:  MON,WED,FRI
SCHEDULE_DAYS=MON,TUE,WED,THU,FRI

# Query Configuration
# Path to SQL query file - can be relative to project root or absolute path
# The output CSV files will be automatically named after this query file
# 
# Examples:
#   SQL_QUERY_FILE=./config/queries.sql           -> Output: queries_2025-12-26_140530.csv
#   SQL_QUERY_FILE=./config/member_snapshot.sql   -> Output: member_snapshot_2025-12-26_140530.csv
#   SQL_QUERY_FILE=./queries/daily_report.sql     -> Output: daily_report_2025-12-26_140530.csv
SQL_QUERY_FILE=./config/queries.sql

# Export Configuration
OUTPUT_DIR=./output/snapshots

# FILE_PREFIX is deprecated - output files now automatically use the query file name as prefix
# This setting is kept for backward compatibility but is no longer used
FILE_PREFIX=member_snapshot

FILE_RETENTION_DAYS=30                   # Delete CSV files older than N days (0 = never delete)
CSV_ENCODING=utf-8                       # CSV file encoding

# Logging Configuration
# Log level: DEBUG (detailed), INFO (general), WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (relative or absolute)
LOG_FILE=./logs/app.log

# Log Rotation Settings
# Maximum log file size in bytes before rotation
# Common values:
#   5MB   = 5242880
#   10MB  = 10485760 (default)
#   50MB  = 52428800
#   100MB = 104857600
LOG_MAX_BYTES=10485760

# Number of backup log files to keep
# Example: With LOG_BACKUP_COUNT=5, you'll have:
#   app.log (current)
#   app.log.1 (most recent backup)
#   app.log.2
#   app.log.3
#   app.log.4
#   app.log.5 (oldest backup)
# Total disk space = LOG_MAX_BYTES Ã— (LOG_BACKUP_COUNT + 1)
LOG_BACKUP_COUNT=5
